<!DOCTYPE html>
{% load static%}
<html>
<head>
  <meta charset="utf-8"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

<link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
<script type="text/javascript" src="../../static/js/jquery-1.12.4.js"></script>
<script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
<style>
	  #div{
	      width:350px;
	      height:70px;
	      padding:10px;
		  border:1px solid #aaaaaa;
	  }
</style>
 
</head>
<body>


<!--bg-->
<img src= "{%static "img/pic/bg.png"%}" alt = "beijing" width = "1440px" height = "1024px" style = "position:absolute;left:0px;top:0px;">
<!--灰色bg-->
<img src = "{%static "img/pic/huise.png"%}" alt = "huise" width= "1440px" height = "1024px" style="position:absolute;left:0px;top:0px;">
<!--模特部分-->
<img src = "{%static "img/pic/model.png"%}" alt = "model" width= "400px" height = "814px" style="position:absolute;left:112px;top:167px;">
{#<img src = "{%static "img/pic/malemodel.jpg"%}" alt = "mote"  width="375" height = "400px" style="position:absolute;left:120px;top:150px;">#}

<!--箭头-->
<img src = "{%static "img/pic/turnleft.png"%}" alt = "xiangzuo" width= "48px" height = "44px" style="position:absolute;left:51px;top:536px;">
<img src = "{%static "img/pic/turnright.png"%}" alt = "xiangyou" width= "48px" height = "44px" style="position:absolute;left:529px;top:536px;">
<a href="../"><img src = "{%static "img/pic/back.png"%}" alt = "back" width= "48px" height = "44px" style="position:absolute;left:28px;top:20px;" ></a>
<!--衣杆-->
<img src = "{%static "img/pic/gunzi.png"%}" alt = "gunzishang" width= "682px" height = "8px" style="position:absolute;left:599px;top:120px;">
<img src = "{%static "img/pic/gunzi.png"%}" alt = "gunzizhong" width= "682px" height = "8px" style="position:absolute;left:599px;top:320px;">
<img src = "{%static "img/pic/gunzi.png"%}" alt = "gunzixia" width= "682px" height = "8px" style="position:absolute;left:599px;top:700px;">
<!--衣服13件-->
<img  class="drag_box"src = "{%static "img/pic/shang1.png"%}" alt = "shang1" width= "191px" height = "191px" style="position:absolute;left:599px;top:120px;">
<img  class="drag_box"src = "{%static "img/pic/shang2.png"%}" alt = "shang2" width= "191px" height = "191px" style="position:absolute;left:780px;top:120px;">
<img  class="drag_box"src = "{%static "img/pic/shang3.png"%}" alt = "shang3" width= "191px" height = "191px" style="position:absolute;left:973px;top:120px;">
<img  class="drag_box"src = "{%static "img/pic/shang4.png"%}" alt = "shang4" width= "191px" height = "191px" style="position:absolute;left:1137px;top:120px;">
<img  class="drag_box"src = "{%static "img/pic/xia1.png"%}" alt = "xia1" width= "150px" height = "350px" style="position:absolute;left:599px;top:300px;">
<img  class="drag_box"src = "{%static "img/pic/xia2.png"%}" alt = "xia2" width= "150px" height = "350px" style="position:absolute;left:780px;top:320px;">
<img  class="drag_box"src = "{%static "img/pic/xia3.png"%}" alt = "xia3" width= "150px" height = "350px" style="position:absolute;left:973px;top:320px;">
<img  class="drag_box"src = "{%static "img/pic/xia4.png"%}" alt = "xia4" width= "150px" height = "350px" style="position:absolute;left:1137px;top:320px;">
<img  class="drag_box"src = "{%static "img/pic/qun1.png"%}" alt = "qun1" width= "150px" height = "225px" style="position:absolute;left:599px;top:700px;">
<img  class="drag_box"src = "{%static "img/pic/qun2.png"%}" alt = "qun2" width= "200px" height = "300px" style="position:absolute;left:750px;top:700px;">
<img  class="drag_box"src = "{%static "img/pic/qun3.png"%}" alt = "qun3" width= "180px" height = "325px" style="position:absolute;left:973px;top:700px;">
<img  class="drag_box"src = "{%static "img/pic/qun4.png"%}" alt = "qun4" width= "200px" height = "260px" style="position:absolute;left:1137px;top:700px;">

 <script>
            var log = console.log.bind(this);

            ;
            (function() {

                window.Drag = function Drag(cls) {

                    this.obj = Array.prototype.slice.call(document.querySelectorAll(cls));

                    this.win_w = document.documentElement.clientWidth || document.body.clientWidth;
                    this.win_h = document.documentElement.clientHeight || document.body.clientHeight;

                }

                Drag.prototype.init = function(user_config) {
                    //默认参数
                    var defaults = {
                        isLimit: false,
                        isChangeIndex: false

                    }

                    this.config = this.extend(defaults, user_config);

                    var _this = this;
                    for(var i = 0; i < this.obj.length; i++) {

                        (function(i) {
                            _this.obj[i].onmousedown = function() {
                                this.disX;
                                this.disY;
                                var pos = document.defaultView.getComputedStyle(_this.obj[i], false).Position;

                                if(!pos || pos.toLowerCase() == 'static') {

                                    _this.obj[i].style.position = 'absolute'
                                };
                                var e = e || window.event;
                                _this.mousedown(_this.obj[i], e);
                                return false

                            }

                        })(i);

                    }
                }

                Drag.prototype.extend = function(a, b) {

                    for(var key in b) {
                        if(b.hasOwnProperty(key)) {
                            a[key] = b[key];
                        }
                    }
                    return a;

                }

                Drag.prototype.mousedown = function(ele, e) {
                    var _this = this;

                    var e = e || window.event;
                    this.disX = e.offsetX;
                    this.disY = e.offsetY;
                    if(this.config.isChangeIndex) {

                        for(var i = 0; i < this.obj.length; i++) {

                            this.obj[i].style.zIndex = 'auto'

                        }

                        ele.style.zIndex = 100;
                    }

                    document.onmousemove = function(e) {
                        var e = e || window.event;
                        _this.mousemove(ele, e);

                    }

                    document.onmouseup = function(e) {

                        var e = e || window.event;

                        _this.mouseup(ele, e)

                    }

                }

                Drag.prototype.mousemove = function(ele, e) {
                    var l = e.clientX - this.disX;
                    var t = e.clientY - this.disY;
                    if(this.config.isLimit) {

                        var w = this.win_w - ele.offsetWidth;
                        var h = this.win_h - ele.offsetHeight;

                        ele.style.left = l <= 0 ? 0 : (l > w ? (w + 'px') : (l + 'px'));

                        ele.style.top = t <= 0 ? 0 : (t >= h ? (h + 'px') : (t + 'px'));

                    } else {

                        ele.style.left = l + 'px';
                        ele.style.top = t + 'px';

                    }

                }

                Drag.prototype.mouseup = function(ele, e) {

                    document.onmousedown = null;
                    document.onmousemove = null;
                    document.onmouseup = null;
                    if(this.config.isChangeIndex) {
                        ele.style.zIndex = 100;
                    }

                    return false

                };

            })();

            //继承出LimitDrag
            ;
            

            window.onload = function() {

                new Drag('#div1').init({

                });

                new Drag('a').init({

                });

                new Drag('.drag_box').init({

                    isLimit: false,
                    isChangeIndex: true
                });

                new LimitDrag('p').init({

                    isLimit: false,
                    isChangeIndex: true
                });
            }
        </script>
</body>
</html>
